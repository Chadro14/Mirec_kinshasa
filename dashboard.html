<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tableau de bord - Mirec</title>
    <link rel="stylesheet" href="style.css"> 
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <script src="https://unpkg.com/react/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="dashboard-root">
        <p>Chargement du tableau de bord...</p>
    </div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- COMPOSANTS REACT (LOGIQUE) ---

        const CitationDisplay = () => {
            // Logique de citation (comme pr√©c√©demment)
            const citations = [
                "Le v√©ritable amour est un choix, pas seulement un sentiment.",
                "La foi n'est pas l'absence de doute, c'est le courage d'y faire face.",
                "Soyez le changement que vous voulez voir dans le monde.",
                "Chaque pas dans la foi est un pas de plus vers la b√©n√©diction.",
                "La pers√©v√©rance est la cl√© de la r√©ussite dans toutes les √©preuves."
            ];
            const [citation, setCitation] = useState(citations[0]);

            useEffect(() => {
                const intervalId = setInterval(() => {
                    setCitation(prevCitation => {
                        const currentIndex = citations.indexOf(prevCitation);
                        const nextIndex = (currentIndex + 1) % citations.length;
                        return citations[nextIndex];
                    });
                }, 5000);

                return () => clearInterval(intervalId);
            }, []); 

            return (
                <p id="citation" className="description">{citation}</p>
            );
        };

        const DashboardApp = () => {
            const [isSidebarActive, setIsSidebarActive] = useState(false);
            const [isMoodVisible, setIsMoodVisible] = useState(false);
            
            // Logique du bouton Admin
            const handleAdminClick = (event) => {
                event.preventDefault();
                const code = prompt("Veuillez entrer le code d'acc√®s :");
                if (code === "252006") {
                    window.location.href = "admin.html";
                } else {
                    alert("Code incorrect.");
                }
            };

            return (
                <React.Fragment>
                    {/* Menu Hamburger */}
                    <div 
                        id="hamburger" 
                        className={`hamburger-menu ${isSidebarActive ? 'active' : ''}`}
                        onClick={() => setIsSidebarActive(!isSidebarActive)}
                    >
                        <div className="bar"></div>
                        <div className="bar"></div>
                        <div className="bar"></div>
                    </div>

                    {/* Barre Lat√©rale */}
                    <div id="sidebar" className={`sidebar ${isSidebarActive ? 'active' : ''}`}>
                        <a href="index.html" className="sidebar-link">Retour √† la page d'accueil</a>
                        <a href="https://wa.me/243822506535" className="sidebar-link">Discuter avec le berger Christian Mpiana</a>
                        {/* ... autres liens ... */}
                    </div>

                    <div className="main-content">
                        <div className="container loaded">
                            <div className="logo-container">
                                <a href="index.html">
                                    <img src="https://files.catbox.moe/f1dpzj.jpg" alt="Logo de Mirec Kinshasa" />
                                </a>
                            </div>
                            <h1>Tableau de bord</h1>
                            
                            <CitationDisplay />
                            
                            {/* SECTION DES BOUTONS */}
                            <div className="button-section">
                                <a href="predication.html" className="dashboard-button">üó£Ô∏è Pr√©dication</a>
                                <a href="meditation.html" className="dashboard-button">üßò M√©ditation</a>
                                <a href="verse.html" className="dashboard-button">üìñ Verset du jour</a>
                                <a href="bible.html" className="dashboard-button">‚úùÔ∏è Bible</a>
                                
                                {/* Nouveaux boutons */}
                                <a href="horaires.html" className="dashboard-button">‚è∞ Horaires & Dates</a>
                                <a href="requete-priere.html" className="dashboard-button">üôè Requ√™te de Pri√®re</a>
                                <a href="medias.html" className="dashboard-button">üñºÔ∏è M√©dia & Partage</a>
                                <a href="theme-du-mois.html" className="dashboard-button">üî• Th√®me du Mois</a>
                                
                                <a href="#" onClick={handleAdminClick} className="dashboard-button">‚öôÔ∏è Admin</a>
                            </div>
                            
                            {/* SECTION HUMEUR */}
                            <div className="mood-section">
                                <a href="#" onClick={(e) => {e.preventDefault(); setIsMoodVisible(!isMoodVisible);}} className="dashboard-button">
                                    Comment vous sentez-vous ?
                                </a>
                                
                                <div id="moodContent" className={isMoodVisible ? 'mood-content-visible' : 'mood-content-hidden'}>
                                    <div className="mood-options">
                                        <div className="mood-item">üòä Joyeux</div>
                                        <div className="mood-item">üòê Neutre</div>
                                        <div className="mood-item">üòî Triste</div>
                                    </div>
                                </div>
                            </div>

                            <br />
                            <a href="index.html" className="start-button">Retour √† la page d'accueil</a>
                        </div>
                    </div>

                    <footer>
                        <p>by Son Altesse</p>
                    </footer>
                </React.Fragment>
            );
        };

        // Rendu du composant principal dans le conteneur 'dashboard-root'
        const root = ReactDOM.createRoot(document.getElementById('dashboard-root'));
        root.render(<DashboardApp />);
    </script>
</body>
</html>
